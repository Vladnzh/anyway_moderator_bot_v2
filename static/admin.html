<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bot Admin Panel</title>
    <link rel="stylesheet" href="/static/admin.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>ü§ñ Moderator Bot Admin</h1>
            <div class="auth-section">
                <input type="password" id="tokenInput" placeholder="Admin Token" />
                <button id="loginBtn" onclick="login()">–í–æ–π—Ç–∏</button>
                <button id="logoutBtn" onclick="logout()" style="display: none;">–í—ã–π—Ç–∏</button>
            </div>
        </header>

        <div id="loginPrompt" class="login-prompt">
            <div class="login-card">
                <h2>üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h2>
                <p>–í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</p>
                <input type="password" id="loginToken" placeholder="Admin Token" />
                <button onclick="login()">–í–æ–π—Ç–∏</button>
            </div>
        </div>

        <main id="adminPanel" style="display: none;">
            <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≤–∫–ª–∞–¥–∫–∞–º -->
            <nav class="tabs-nav">
                <button class="tab-btn active" onclick="showTab('tags')">üè∑Ô∏è –¢–µ–≥–∏</button>
                <button class="tab-btn" onclick="showTab('moderation')">üîç –ú–æ–¥–µ—Ä–∞—Ü–∏—è</button>
                <button class="tab-btn" onclick="showTab('broadcast')">üì¢ –†–∞—Å—Å—ã–ª–∫–∞</button>
                <button class="tab-btn" onclick="showTab('stats')">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
                <button class="tab-btn" onclick="showTab('logs')">üìã –õ–æ–≥–∏</button>
                <button class="tab-btn" onclick="showTab('api')">üîå API</button>
            </nav>

            <!-- –¢–µ–≥–∏ -->
            <section id="tagsTab" class="tab-content card">
                <h2>üè∑Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–≥–∞–º–∏</h2>
                <div class="tags-header">
                    <button id="addTagBtn" class="btn btn-success">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–µ–≥</button>
                </div>
                <div id="tagsList" class="tags-list">
                    <!-- –¢–µ–≥–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </section>

            <!-- –ú–æ–¥–µ—Ä–∞—Ü–∏—è -->
            <section id="moderationTab" class="tab-content card" style="display: none;">
                <h2>üîç –ú–æ–¥–µ—Ä–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π</h2>
                
                <div class="moderation-stats">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="pendingCount">-</div>
                            <div class="stat-label">–û–∂–∏–¥–∞—é—Ç –º–æ–¥–µ—Ä–∞—Ü–∏–∏</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="approvedCount">-</div>
                            <div class="stat-label">–û–¥–æ–±—Ä–µ–Ω–æ</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="rejectedCount">-</div>
                            <div class="stat-label">–û—Ç–∫–ª–æ–Ω–µ–Ω–æ</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="totalModerationCount">-</div>
                            <div class="stat-label">–í—Å–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤</div>
                        </div>
                    </div>
                </div>

                <div class="moderation-controls">
                    <button onclick="loadModerationQueue()" class="btn btn-secondary">üîÑ –û–±–Ω–æ–≤–∏—Ç—å –æ—á–µ—Ä–µ–¥—å</button>
                    <button onclick="loadModerationStats()" class="btn btn-secondary">üìä –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
                </div>

                <div id="moderationQueue" class="moderation-queue">
                    <h3>üìã –û—á–µ—Ä–µ–¥—å –º–æ–¥–µ—Ä–∞—Ü–∏–∏</h3>
                    <div id="moderationItems" class="moderation-items">
                        <!-- –≠–ª–µ–º–µ–Ω—Ç—ã –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </section>

            <!-- –ú–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ -->
            <section id="broadcastTab" class="tab-content card" style="display: none;">
                <h2>üì¢ –ú–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞</h2>

                <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è -->
                <div class="broadcast-connection card-inner">
                    <h3>üîå –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Supabase</h3>
                    <div class="connection-status">
                        <div id="supabaseStatus" class="status-indicator">
                            <span class="status-dot status-unknown"></span>
                            <span class="status-text">–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è...</span>
                        </div>
                        <button onclick="checkSupabaseConnection()" class="btn btn-secondary btn-sm">üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                    </div>
                    <div id="supabaseHelp" class="help-text" style="display: none;">
                        <p>–î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Supabase –¥–æ–±–∞–≤—å—Ç–µ –≤ .env:</p>
                        <pre>DB_HOST=db.your-project.supabase.co
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=your_password
DB_NAME=postgres</pre>
                        <p>–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å.</p>
                    </div>
                </div>

                <!-- –§–∏–ª—å—Ç—Ä—ã –∞—É–¥–∏—Ç–æ—Ä–∏–∏ -->
                <div class="audience-filters-section card-inner">
                    <h3>üéØ –§–∏–ª—å—Ç—Ä—ã –∞—É–¥–∏—Ç–æ—Ä–∏–∏</h3>
                    <p class="section-hint">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è –≤—ã–±–æ—Ä–∫–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π —Ä–∞—Å—Å—ã–ª–∫–∏</p>

                    <div class="form-group">
                        <label for="filterMarathon">–ú–∞—Ä–∞—Ñ–æ–Ω:</label>
                        <select id="filterMarathon" class="form-control">
                            <option value="">-- –í—Å–µ –º–∞—Ä–∞—Ñ–æ–Ω—ã --</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="filterIsPurchased">–°—Ç–∞—Ç—É—Å –ø–æ–∫—É–ø–∫–∏:</label>
                            <select id="filterIsPurchased" class="form-control">
                                <option value="">-- –õ—é–±–æ–π --</option>
                                <option value="true">‚úÖ –ö—É–ø–∏–ª–∏</option>
                                <option value="false">‚ùå –ù–µ –∫—É–ø–∏–ª–∏</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="filterHasAccess">–ê–∫—Ç–∏–≤–Ω—ã–π –¥–æ—Å—Ç—É–ø:</label>
                            <select id="filterHasAccess" class="form-control">
                                <option value="">-- –õ—é–±–æ–π --</option>
                                <option value="true">‚úÖ –ï—Å—Ç—å –¥–æ—Å—Ç—É–ø</option>
                                <option value="false">‚ùå –ù–µ—Ç –¥–æ—Å—Ç—É–ø–∞</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="filterHasStarted">–ù–∞—á–∞–ª –∑–∞–Ω–∏–º–∞—Ç—å—Å—è:</label>
                            <select id="filterHasStarted" class="form-control">
                                <option value="">-- –õ—é–±–æ–π --</option>
                                <option value="true">‚úÖ –ù–∞—á–∞–ª (–≤—ã–ø–æ–ª–Ω–∏–ª —Ö–æ—Ç—è –±—ã 1 –¥–µ–Ω—å)</option>
                                <option value="false">‚ùå –ù–µ –Ω–∞—á–∞–ª (0 –¥–Ω–µ–π)</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="filterProgressMin">–ü—Ä–æ–≥—Ä–µ—Å—Å –æ—Ç (%):</label>
                            <input type="number" id="filterProgressMin" class="form-control" min="0" max="100" placeholder="0" />
                        </div>
                        <div class="form-group">
                            <label for="filterProgressMax">–ü—Ä–æ–≥—Ä–µ—Å—Å –¥–æ (%):</label>
                            <input type="number" id="filterProgressMax" class="form-control" min="0" max="100" placeholder="100" />
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="filterCompletedDaysMin">–í—ã–ø–æ–ª–Ω–µ–Ω–æ –¥–Ω–µ–π –æ—Ç:</label>
                            <input type="number" id="filterCompletedDaysMin" class="form-control" min="0" placeholder="0" />
                        </div>
                        <div class="form-group">
                            <label for="filterCompletedDaysMax">–í—ã–ø–æ–ª–Ω–µ–Ω–æ –¥–Ω–µ–π –¥–æ:</label>
                            <input type="number" id="filterCompletedDaysMax" class="form-control" min="0" placeholder="" />
                        </div>
                    </div>

                    <div class="filter-actions">
                        <button onclick="clearFilters()" class="btn btn-secondary">üóëÔ∏è –°–±—Ä–æ—Å–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</button>
                    </div>
                </div>

                <!-- –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞—Å—Å—ã–ª–∫–∏ -->
                <div class="broadcast-form card-inner">
                    <h3>‚úâÔ∏è –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞—Å—Å—ã–ª–∫–∏</h3>

                    <div class="form-group">
                        <label for="broadcastMessage">–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:</label>
                        <textarea
                            id="broadcastMessage"
                            placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏..."
                            rows="6"
                            class="form-control"
                        ></textarea>
                        <small class="form-hint">–ú–∞–∫—Å–∏–º—É–º 4096 —Å–∏–º–≤–æ–ª–æ–≤</small>
                    </div>

                    <div class="form-group">
                        <label for="broadcastParseMode">–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:</label>
                        <select id="broadcastParseMode" class="form-control">
                            <option value="">–ë–µ–∑ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</option>
                            <option value="HTML">HTML</option>
                            <option value="Markdown">Markdown</option>
                        </select>
                        <small class="form-hint">
                            HTML: &lt;b&gt;–∂–∏—Ä–Ω—ã–π&lt;/b&gt;, &lt;i&gt;–∫—É—Ä—Å–∏–≤&lt;/i&gt;<br>
                            Markdown: **–∂–∏—Ä–Ω—ã–π**, _–∫—É—Ä—Å–∏–≤_
                        </small>
                    </div>
                </div>

                <!-- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä -->
                <div class="broadcast-preview card-inner">
                    <h3>üë• –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π</h3>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <button onclick="loadFilteredPreview()" class="btn btn-primary" id="previewAudienceBtn">üîç –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</button>
                        <button onclick="showTestMessageDialog()" class="btn btn-secondary">üì® –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç</button>
                    </div>

                    <div id="broadcastPreviewResult" style="display: none;">
                        <div class="preview-stats">
                            <div class="stat-card">
                                <div class="stat-number" id="previewUserCount">0</div>
                                <div class="stat-label">–ü–æ–ª—É—á–∞—Ç–µ–ª–µ–π</div>
                            </div>
                        </div>

                        <div class="preview-users-list">
                            <h4>–°–ø–∏—Å–æ–∫ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π:</h4>
                            <div id="previewUsersList" class="users-list">
                                <!-- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ -->
                <div class="broadcast-actions">
                    <button
                        onclick="sendBroadcastWithFilters()"
                        class="btn btn-success btn-lg"
                        id="sendBroadcastBtn"
                        disabled
                    >
                        üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–∞—Å—Å—ã–ª–∫—É
                    </button>
                    <button onclick="clearBroadcastForm()" class="btn btn-secondary">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å</button>
                </div>

                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç–ø—Ä–∞–≤–∫–∏ -->
                <div id="broadcastResult" style="display: none;" class="broadcast-result card-inner">
                    <h3>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞—Å—Å—ã–ª–∫–∏</h3>
                    <div id="broadcastResultContent"></div>
                </div>
            </section>

            <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <section id="statsTab" class="tab-content card" style="display: none;">
                <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <div id="statsContainer">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="totalLogs">-</div>
                            <div class="stat-label">–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="totalTags">-</div>
                            <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö —Ç–µ–≥–æ–≤</div>
                        </div>
                    </div>
                    
                    <h3>–¢–æ–ø —Ç–µ–≥–æ–≤:</h3>
                    <div id="topTags" class="top-tags">
                        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ–≥–æ–≤ -->
                    </div>
                </div>
            </section>

            <!-- –õ–æ–≥–∏ -->
            <section id="logsTab" class="tab-content card" style="display: none;">
                <h2>üìã –ñ—É—Ä–Ω–∞–ª —Å–æ–±—ã—Ç–∏–π</h2>
                <div class="logs-controls">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="logTagFilter">–§–∏–ª—å—Ç—Ä –ø–æ —Ç–µ–≥—É:</label>
                            <select id="logTagFilter">
                                <option value="">(–≤—Å–µ)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="logLimit">–õ–∏–º–∏—Ç:</label>
                            <input type="number" id="logLimit" value="50" min="1" max="500" />
                        </div>
                        <button onclick="loadLogs()" class="btn btn-secondary">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
                        <button onclick="clearLogs()" class="btn btn-danger">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏</button>
                    </div>
                </div>
                <div id="logsContainer" class="logs-container">
                    <!-- –õ–æ–≥–∏ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </section>

            <!-- API Documentation -->
            <section id="apiTab" class="tab-content card" style="display: none;">
                <h2>üîå API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</h2>
                
                <div class="api-intro">
                    <p>–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è REST API –¥–ª—è –¥–∏—Å—Ç–∞–Ω—Ü–∏–æ–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º.</p>
                    <div class="api-auth-info">
                        <h3>üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h3>
                        <p>–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –æ–¥–Ω–∏–º –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤:</p>
                        <ul>
                            <li><strong>Header:</strong> <code>Authorization: Bearer YOUR_TOKEN</code></li>
                            <li><strong>Query param:</strong> <code>?token=YOUR_TOKEN</code></li>
                        </ul>
                    </div>
                </div>

                <div class="api-notice" style="background: linear-gradient(135deg, #1e293b 0%, #334155 100%); border: 1px solid #475569; border-radius: 12px; padding: 20px; margin-bottom: 20px;">
                    <h3 style="color: #e2e8f0; margin: 0 0 10px 0;">üìñ –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</h3>
                    <p style="color: #cbd5e1; margin: 0;">–ü–æ–ª–Ω–∞—è –∏ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Ñ–∞–π–ª–µ <strong>API.md</strong> –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞. –ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è.</p>
                </div>

                <div class="api-sections">

                    <!-- –¢–µ–≥–∏ -->
                    <div class="api-section">
                        <h3>üè∑Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–≥–∞–º–∏</h3>
                        
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <span class="method get">GET</span>
                                <span class="path">/api/tags</span>
                                <span class="description">–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç–µ–≥–∏</span>
                            </div>
                            <div class="endpoint-details">
                                <h4>–û—Ç–≤–µ—Ç:</h4>
                                <pre class="code-block">{
  "success": true,
  "data": [
    {
      "id": "8a1c7742",
      "tag": "#recipe",
      "emoji": "üçì",
      "delay": 0,
      "match_mode": "equals",
      "require_photo": true,
      "reply_ok": "–ó–∞—Ä–∞—Ö–æ–≤–∞–Ω–æ! ü¶ã",
      "reply_need_photo": "–©–æ–± –∑–∞—Ä–∞—Ö—É–≤–∞—Ç–∏ ‚Äî –¥–æ–¥–∞–π —Ñ–æ—Ç–æ",
      "thread_name": "",
      "reply_duplicate": "",
      "moderation_enabled": false,
      "reply_pending": "",
      "counter_name": "–†–µ—Ü–µ–ø—Ç—ã"
    }
  ]
}</pre>
                                <button class="test-btn" onclick="testEndpoint('GET', '/api/tags')">üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                            </div>
                        </div>

                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <span class="method post">POST</span>
                                <span class="path">/api/tags</span>
                                <span class="description">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç–µ–≥ (ID –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)</span>
                            </div>
                            <div class="endpoint-details">
                                <h4>–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:</h4>
                                <pre class="code-block">{
  "tag": "#–Ω–æ–≤—ã–π_—Ç–µ–≥",
  "emoji": "üéâ",
  "delay": 0,
  "match_mode": "equals",
  "require_photo": true,
  "reply_ok": "–û—Ç–ª–∏—á–Ω–æ!",
  "reply_need_photo": "–î–æ–±–∞–≤—å—Ç–µ –º–µ–¥–∏–∞—Ñ–∞–π–ª",
  "thread_name": "–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–¥–∞",
  "reply_duplicate": "–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ!",
  "moderation_enabled": false,
  "reply_pending": "",
  "counter_name": "–ù–æ–≤—ã–π —Ç–µ–≥"
}</pre>
                                <h4>–û—Ç–≤–µ—Ç:</h4>
                                <pre class="code-block">{
  "success": true,
  "message": "–¢–µ–≥ —Å–æ–∑–¥–∞–Ω",
  "data": {
    "id": "ede0ebde",
    "tag": "#–Ω–æ–≤—ã–π_—Ç–µ–≥",
    "emoji": "üéâ",
    "delay": 0,
    "match_mode": "equals",
    "require_photo": true,
    "reply_ok": "–û—Ç–ª–∏—á–Ω–æ!",
    "reply_need_photo": "–î–æ–±–∞–≤—å—Ç–µ –º–µ–¥–∏–∞—Ñ–∞–π–ª",
    "thread_name": "–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–¥–∞",
    "reply_duplicate": "–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ!",
    "moderation_enabled": false,
    "reply_pending": "",
    "counter_name": "–ù–æ–≤—ã–π —Ç–µ–≥"
  }
}</pre>
                                <button class="test-btn" onclick="showTestForm('POST', '/api/tags', 'tag')">üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                            </div>
                        </div>

                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <span class="method put">PUT</span>
                                <span class="path">/api/tags/{tag_id}</span>
                                <span class="badge">–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ</span>
                            </div>
                            <div class="description">–û–±–Ω–æ–≤–∏—Ç—å —Ç–µ–≥ –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É ID (–≤–º–µ—Å—Ç–æ –∏–Ω–¥–µ–∫—Å–∞)</div>
                            <div class="endpoint-details">
                                <h4>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:</h4>
                                <p><code>tag_id</code> - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —Ç–µ–≥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "8a1c7742")</p>
                                <h4>–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:</h4>
                                <pre class="code-block">{
  "tag": "#–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π_—Ç–µ–≥",
  "emoji": "‚ú®",
  "delay": 5,
  "match_mode": "prefix",
  "require_photo": false,
  "reply_ok": "–û–±–Ω–æ–≤–ª–µ–Ω–æ!",
  "reply_need_photo": "",
  "thread_name": "",
  "reply_duplicate": "",
  "moderation_enabled": true,
  "reply_pending": "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é"
}</pre>
                                <h4>–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:</h4>
                                <pre class="code-block">curl -X PUT \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"tag":"#–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π_—Ç–µ–≥","emoji":"‚ú®",...}' \
  http://localhost:8000/api/tags/8a1c7742</pre>
                                <h4>–û—Ç–≤–µ—Ç:</h4>
                                <pre class="code-block">{
  "success": true,
  "message": "–¢–µ–≥ –æ–±–Ω–æ–≤–ª–µ–Ω",
  "data": {
    "id": "8a1c7742",
    "tag": "#–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π_—Ç–µ–≥",
    "emoji": "‚ú®",
    ...
  }
}</pre>
                                <button class="test-btn" onclick="showTestForm('PUT', '/api/tags/8a1c7742', 'tag')">üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                            </div>
                        </div>

                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <span class="method delete">DELETE</span>
                                <span class="path">/api/tags/{tag_id}</span>
                                <span class="badge">–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ</span>
                            </div>
                            <div class="description">–£–¥–∞–ª–∏—Ç—å —Ç–µ–≥ –ø–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–º—É ID (–≤–º–µ—Å—Ç–æ –∏–Ω–¥–µ–∫—Å–∞)</div>
                            <div class="endpoint-details">
                                <h4>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã URL:</h4>
                                <p><code>tag_id</code> - —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —Ç–µ–≥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "8a1c7742")</p>
                                <h4>–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:</h4>
                                <pre class="code-block">curl -X DELETE \
  -H "Authorization: Bearer YOUR_TOKEN" \
  http://localhost:8000/api/tags/8a1c7742</pre>
                                <h4>–û—Ç–≤–µ—Ç –ø—Ä–∏ —É—Å–ø–µ—Ö–µ:</h4>
                                <pre class="code-block">{
  "success": true,
  "message": "–¢–µ–≥ #recipe —É–¥–∞–ª–µ–Ω"
}</pre>
                                <h4>–û—Ç–≤–µ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ:</h4>
                                <pre class="code-block">{
  "success": false,
  "message": "–¢–µ–≥ —Å ID 8a1c7742 –Ω–µ –Ω–∞–π–¥–µ–Ω"
}</pre>
                                <button class="test-btn" onclick="testEndpoint('DELETE', '/api/tags/8a1c7742')">üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                            </div>
                        </div>
                    </div>

                    <!-- –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ ID -->
                    <div class="api-section">
                        <h3>üÜî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ ID —Ç–µ–≥–æ–≤</h3>
                        
                        <div class="integration-info">
                            <p><strong>–í–∞–∂–Ω–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ:</strong> –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ç–µ–≥–∞–º–∏ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ ID –≤–º–µ—Å—Ç–æ –∏–Ω–¥–µ–∫—Å–æ–≤ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –æ—à–∏–±–æ–∫.</p>
                        </div>

                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <span class="method-info">üîÑ –ú–ò–ì–†–ê–¶–ò–Ø</span>
                            </div>
                            <div class="description">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ–≥–æ–≤</div>
                            <div class="endpoint-details">
                                <h4>–ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å:</h4>
                                <div class="integration-steps">
                                    <div class="step">
                                        <div class="step-number">1</div>
                                        <div class="step-content">
                                            <strong>–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ ID</strong><br>
                                            –ö–∞–∂–¥—ã–π —Ç–µ–≥ –ø–æ–ª—É—á–∞–µ—Ç 8-—Å–∏–º–≤–æ–ª—å–Ω—ã–π ID (–Ω–∞–ø—Ä–∏–º–µ—Ä: <code>8a1c7742</code>)
                                        </div>
                                    </div>
                                    <div class="step">
                                        <div class="step-number">2</div>
                                        <div class="step-content">
                                            <strong>–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</strong><br>
                                            –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ ID –≤–º–µ—Å—Ç–æ –∏–Ω–¥–µ–∫—Å–∞
                                        </div>
                                    </div>
                                    <div class="step">
                                        <div class="step-number">3</div>
                                        <div class="step-content">
                                            <strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è</strong><br>
                                            –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ–≥–∏ –ø–æ–ª—É—á–∞—é—Ç ID –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
                                        </div>
                                    </div>
                                    <div class="step">
                                        <div class="step-number">4</div>
                                        <div class="step-content">
                                            <strong>–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å</strong><br>
                                            –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <span class="method-info">‚ö†Ô∏è –£–°–¢–ê–†–ï–í–®–ò–ï –≠–ù–î–ü–û–ò–ù–¢–´</span>
                            </div>
                            <div class="description">–°—Ç–∞—Ä—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å –∏–Ω–¥–µ–∫—Å–∞–º–∏ –±–æ–ª—å—à–µ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è</div>
                            <div class="endpoint-details">
                                <h4>–ë—ã–ª–æ (—É—Å—Ç–∞—Ä–µ–ª–æ):</h4>
                                <pre class="code-block">PUT  /api/tags/0        # ‚ùå –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É
DELETE /api/tags/1      # ‚ùå –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ –∏–Ω–¥–µ–∫—Å—É</pre>
                                <h4>–°—Ç–∞–ª–æ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):</h4>
                                <pre class="code-block">PUT  /api/tags/8a1c7742    # ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ ID
DELETE /api/tags/ede0ebde  # ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ ID</pre>
                                <h4>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</h4>
                                <ul>
                                    <li>üîí <strong>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:</strong> –ù–µ—Ç —Ä–∏—Å–∫–∞ —É–¥–∞–ª–∏—Ç—å –Ω–µ —Ç–æ—Ç —Ç–µ–≥</li>
                                    <li>üìà <strong>–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:</strong> –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π</li>
                                    <li>üõ†Ô∏è <strong>–û—Ç–ª–∞–¥–∫–∞:</strong> –ß–µ—Ç–∫–∞—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –≤ –ª–æ–≥–∞—Ö</li>
                                    <li>üîÑ <strong>–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:</strong> ID –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ø–æ—Ä—è–¥–∫–∞</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- –õ–æ–≥–∏ -->
                    <div class="api-section">
                        <h3>üìã –õ–æ–≥–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                        
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <span class="method get">GET</span>
                                <span class="path">/api/logs</span>
                                <span class="description">–ü–æ–ª—É—á–∏—Ç—å –∂—É—Ä–Ω–∞–ª —Å–æ–±—ã—Ç–∏–π</span>
                            </div>
                            <div class="endpoint-details">
                                <h4>Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:</h4>
                                <ul>
                                    <li><code>limit</code> - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50)</li>
                                    <li><code>tag</code> - —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç–µ–≥—É</li>
                                </ul>
                                <h4>–ü—Ä–∏–º–µ—Ä:</h4>
                                <pre class="code-block">GET /api/logs?limit=10&tag=#recipe</pre>
                                <button class="test-btn" onclick="testEndpoint('GET', '/api/logs?limit=10')">üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                            </div>
                        </div>

                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <span class="method get">GET</span>
                                <span class="path">/api/stats</span>
                                <span class="description">–ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</span>
                            </div>
                            <div class="endpoint-details">
                                <h4>–û—Ç–≤–µ—Ç:</h4>
                                <pre class="code-block">{
  "success": true,
  "data": {
    "total_logs": 42,
    "total_tags": 3,
    "top_tags": [
      {"tag": "#recipe", "count": 15},
      {"tag": "#test", "count": 8}
    ]
  }
}</pre>
                                <button class="test-btn" onclick="testEndpoint('GET', '/api/stats')">üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                            </div>
                        </div>
                    </div>

                    <!-- –ü—Ä—è–º—ã–µ —Ä–µ–∞–∫—Ü–∏–∏ -->
                    <div class="api-section">
                        <h3>‚ö° –ü—Ä—è–º—ã–µ —Ä–µ–∞–∫—Ü–∏–∏</h3>
                        
                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <span class="method post">POST</span>
                                <span class="path">/api/reactions/set</span>
                            </div>
                            <div class="description">–ü–æ—Å—Ç–∞–≤–∏—Ç—å —Ä–µ–∞–∫—Ü–∏—é –∫ —Å–æ–æ–±—â–µ–Ω–∏—é –Ω–∞–ø—Ä—è–º—É—é</div>
                            <div class="endpoint-details">
                                <h4>–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:</h4>
                                <pre class="code-block">{
  "chat_id": -1001234567890,
  "message_id": 123,
  "emoji": "üçì"
}</pre>
                                <h4>–û—Ç–≤–µ—Ç:</h4>
                                <pre class="code-block">{
  "success": true,
  "message": "–†–µ–∞–∫—Ü–∏—è üçì –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∞ –∫ —Å–æ–æ–±—â–µ–Ω–∏—é 123"
}</pre>
                                <button class="test-btn" onclick="testEndpoint('POST', '/api/reactions/set')">üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                            </div>
                        </div>

                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <span class="method delete">DELETE</span>
                                <span class="path">/api/reactions/remove</span>
                            </div>
                            <div class="description">–£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ä–µ–∞–∫—Ü–∏–∏ —Å —Å–æ–æ–±—â–µ–Ω–∏—è</div>
                            <div class="endpoint-details">
                                <h4>–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:</h4>
                                <pre class="code-block">{
  "chat_id": -1001234567890,
  "message_id": 123,
  "emoji": ""
}</pre>
                                <button class="test-btn" onclick="testEndpoint('DELETE', '/api/reactions/remove')">üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                            </div>
                        </div>

                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <span class="method get">GET</span>
                                <span class="path">/api/reactions/queue</span>
                            </div>
                            <div class="description">–ü–æ–ª—É—á–∏—Ç—å –æ—á–µ—Ä–µ–¥—å –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ä–µ–∞–∫—Ü–∏–π</div>
                            <div class="endpoint-details">
                                <button class="test-btn" onclick="testEndpoint('GET', '/api/reactions/queue')">üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                            </div>
                        </div>

                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <span class="method delete">DELETE</span>
                                <span class="path">/api/reactions/queue</span>
                            </div>
                            <div class="description">–û—á–∏—Å—Ç–∏—Ç—å –æ—á–µ—Ä–µ–¥—å –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ä–µ–∞–∫—Ü–∏–π</div>
                            <div class="endpoint-details">
                                <button class="test-btn" onclick="testEndpoint('DELETE', '/api/reactions/queue')">üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                            </div>
                        </div>
                    </div>

                    <!-- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∞–¥–º–∏–Ω–∫–∞–º–∏ -->
                    <div class="api-section">
                        <h3>üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ –∞–¥–º–∏–Ω–∫–∞–º–∏</h3>
                        
                        <div class="integration-info">
                            <p><strong>API –º–æ–¥–µ—Ä–∞—Ü–∏–∏</strong> –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–µ –∞–¥–º–∏–Ω–∫–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π –±–æ—Ç–∞. –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å –æ—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π, –æ–∂–∏–¥–∞—é—â–∏—Ö –º–æ–¥–µ—Ä–∞—Ü–∏–∏, –∏ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è –æ–± –∏—Ö –æ–¥–æ–±—Ä–µ–Ω–∏–∏ –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏.</p>
                        </div>

                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <span class="method-info">üîÑ –ü–û–õ–ù–´–ô –¶–ò–ö–õ –ú–û–î–ï–†–ê–¶–ò–ò</span>
                            </div>
                            <div class="description">–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –≤–Ω–µ—à–Ω–µ–π –∞–¥–º–∏–Ω–∫–∏</div>
                            <div class="endpoint-details">
                                <h4>–®–∞–≥–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:</h4>
                                <div class="integration-steps">
                                    <div class="step">
                                        <div class="step-number">1</div>
                                        <div class="step-content">
                                            <strong>–ü–æ–ª—É—á–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥–∏</strong><br>
                                            <code>GET /api/moderation</code> - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ pending —ç–ª–µ–º–µ–Ω—Ç—ã
                                        </div>
                                    </div>
                                    <div class="step">
                                        <div class="step-number">2</div>
                                        <div class="step-content">
                                            <strong>–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –≤–∞—à–µ–π –∞–¥–º–∏–Ω–∫–µ</strong><br>
                                            –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–µ—Ä–∞—Ç–æ—Ä—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–æ–±—â–µ–Ω–∏–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ, —Ç–µ–≥–µ
                                        </div>
                                    </div>
                                    <div class="step">
                                        <div class="step-number">3</div>
                                        <div class="step-content">
                                            <strong>–ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏—è</strong><br>
                                            –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç: –æ–¥–æ–±—Ä–∏—Ç—å –∏–ª–∏ –æ—Ç–∫–ª–æ–Ω–∏—Ç—å
                                        </div>
                                    </div>
                                    <div class="step">
                                        <div class="step-number">4</div>
                                        <div class="step-content">
                                            <strong>–û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ—à–µ–Ω–∏—è</strong><br>
                                            <code>POST /api/moderation/{id}/approve</code> –∏–ª–∏ <code>/reject</code>
                                        </div>
                                    </div>
                                    <div class="step">
                                        <div class="step-number">5</div>
                                        <div class="step-content">
                                            <strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞</strong><br>
                                            –ë–æ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ —Å—Ç–∞–≤–∏—Ç —Ä–µ–∞–∫—Ü–∏—é –ø—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <span class="method get">GET</span>
                                <span class="path">/api/moderation</span>
                                <span class="badge">–û—Å–Ω–æ–≤–Ω–æ–π —ç–Ω–¥–ø–æ–∏–Ω—Ç</span>
                            </div>
                            <div class="description">–ü–æ–ª—É—á–∏—Ç—å –æ—á–µ—Ä–µ–¥—å –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –≤–Ω–µ—à–Ω–µ–π –∞–¥–º–∏–Ω–∫–∏</div>
                            <div class="endpoint-details">
                                <h4>–û—Ç–≤–µ—Ç:</h4>
                                <pre class="code-block">{
  "success": true,
  "data": [
    {
      "id": "d5df1571",
      "chat_id": -1003060152277,
      "message_id": 123,
      "user_id": 390384558,
      "username": "breadbrain",
      "tag": "#—Ä–µ—Ü–µ–ø—Ç",
      "emoji": "üçì",
      "text": "–í–æ—Ç –º–æ–π –Ω–æ–≤—ã–π —Ä–µ—Ü–µ–ø—Ç!",
      "caption": "#—Ä–µ—Ü–µ–ø—Ç —Å—É–ø–µ—Ä –≤–∫—É—Å–Ω–æ",
      "media_info": {
        "has_photo": true,
        "has_video": false,
        "photo_file_id": "AgACAgIAAy...",
        "media_file_ids": ["AgACAgIAAy..."]
      },
      "thread_name": "–†–µ—Ü–µ–ø—Ç–∏",
      "created_at": "2025-01-05T12:13:37Z",
      "status": "pending"
    }
  ]
}</pre>
                                <button class="test-btn" onclick="testEndpoint('GET', '/api/moderation')">üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                            </div>
                        </div>

                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <span class="method post">POST</span>
                                <span class="path">/api/moderation/{item_id}/approve</span>
                                <span class="badge success">–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è</span>
                            </div>
                            <div class="description">–û–¥–æ–±—Ä–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –º–æ–¥–µ—Ä–∞—Ü–∏–∏ (—Ä–µ–∞–∫—Ü–∏—è —Å—Ç–∞–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)</div>
                            <div class="endpoint-details">
                                <h4>–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:</h4>
                                <pre class="code-block">curl -X POST \
  -H "Authorization: Bearer YOUR_TOKEN" \
  http://localhost:8000/api/moderation/d5df1571/approve</pre>
                                <h4>–û—Ç–≤–µ—Ç –ø—Ä–∏ —É—Å–ø–µ—Ö–µ:</h4>
                                <pre class="code-block">{
  "success": true,
  "message": "–≠–ª–µ–º–µ–Ω—Ç –æ–¥–æ–±—Ä–µ–Ω, —Ä–µ–∞–∫—Ü–∏—è –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∞"
}</pre>
                                <h4>–û—Ç–≤–µ—Ç –ø—Ä–∏ —Ñ–æ–ª–ª–±—ç–∫–µ:</h4>
                                <pre class="code-block">{
  "success": true,
  "message": "–≠–ª–µ–º–µ–Ω—Ç –æ–¥–æ–±—Ä–µ–Ω, —Ä–µ–∞–∫—Ü–∏—è –±—É–¥–µ—Ç –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∞ –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º —Å–æ–æ–±—â–µ–Ω–∏–∏"
}</pre>
                            </div>
                        </div>

                        <div class="api-endpoint">
                            <div class="endpoint-header">
                                <span class="method post">POST</span>
                                <span class="path">/api/moderation/{item_id}/reject</span>
                            </div>
                            <div class="description">–û—Ç–∫–ª–æ–Ω–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç –º–æ–¥–µ—Ä–∞—Ü–∏–∏</div>
                            <div class="endpoint-details">
                                <h4>–û—Ç–≤–µ—Ç:</h4>
                                <pre class="code-block">{
  "success": true,
  "message": "–≠–ª–µ–º–µ–Ω—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω"
}</pre>
                            </div>
                        </div>
                    </div>

                    <!-- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ -->
                    <div class="api-section">
                        <h3>üë®‚Äçüíª –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏</h3>
                        
                        <div class="example-section">
                            <h4>üêç Python - –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è</h4>
                            <pre class="code-block">import requests

class BotModerationAPI:
    def __init__(self, base_url: str, token: str):
        self.base_url = base_url.rstrip('/')
        self.headers = {"Authorization": f"Bearer {token}"}
    
    def get_moderation_queue(self):
        """–ü–æ–ª—É—á–∏—Ç—å –æ—á–µ—Ä–µ–¥—å –º–æ–¥–µ—Ä–∞—Ü–∏–∏"""
        response = requests.get(f"{self.base_url}/api/moderation", headers=self.headers)
        return response.json()['data']
    
    def approve_item(self, item_id: str):
        """–û–¥–æ–±—Ä–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç (—Ä–µ–∞–∫—Ü–∏—è —Å—Ç–∞–≤–∏—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ!)"""
        response = requests.post(
            f"{self.base_url}/api/moderation/{item_id}/approve", 
            headers=self.headers
        )
        return response.json()['success']
    
    def reject_item(self, item_id: str):
        """–û—Ç–∫–ª–æ–Ω–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç"""
        response = requests.post(
            f"{self.base_url}/api/moderation/{item_id}/reject", 
            headers=self.headers
        )
        return response.json()['success']

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –≤–∞—à–µ–π –∞–¥–º–∏–Ω–∫–µ
api = BotModerationAPI("http://localhost:8000", "YOUR_TOKEN")

# –ü–æ–ª—É—á–∞–µ–º –æ—á–µ—Ä–µ–¥—å –º–æ–¥–µ—Ä–∞—Ü–∏–∏
queue = api.get_moderation_queue()
print(f"–≠–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏: {len(queue)}")

# –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç
for item in queue:
    print(f"ID: {item['id']}")
    print(f"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: @{item['username']}")
    print(f"–¢–µ–≥: {item['tag']} -> {item['emoji']}")
    print(f"–¢–µ–∫—Å—Ç: {item['text']}")
    
    # –í–∞—à–∞ –ª–æ–≥–∏–∫–∞ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è
    decision = your_moderation_logic(item)
    
    if decision == "approve":
        if api.approve_item(item['id']):
            print("‚úÖ –û–¥–æ–±—Ä–µ–Ω–æ –∏ —Ä–µ–∞–∫—Ü–∏—è –ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∞!")
    elif decision == "reject":
        if api.reject_item(item['id']):
            print("‚ùå –û—Ç–∫–ª–æ–Ω–µ–Ω–æ!")
</pre>
                        </div>

                        <div class="example-section">
                            <h4>üåê JavaScript/Node.js - –í–µ–±-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è</h4>
                            <pre class="code-block">class BotModerationAPI {
    constructor(baseUrl, token) {
        this.baseUrl = baseUrl.replace(/\/$/, '');
        this.headers = { 'Authorization': `Bearer ${token}` };
    }
    
    async getModerationQueue() {
        const response = await fetch(`${this.baseUrl}/api/moderation`, { 
            headers: this.headers 
        });
        const data = await response.json();
        return data.data;
    }
    
    async approveItem(itemId) {
        const response = await fetch(`${this.baseUrl}/api/moderation/${itemId}/approve`, {
            method: 'POST',
            headers: this.headers
        });
        const data = await response.json();
        return data.success;
    }
    
    async rejectItem(itemId) {
        const response = await fetch(`${this.baseUrl}/api/moderation/${itemId}/reject`, {
            method: 'POST', 
            headers: this.headers
        });
        const data = await response.json();
        return data.success;
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –≤–µ–±-–∞–¥–º–∏–Ω–∫–µ
const api = new BotModerationAPI('http://localhost:8000', 'YOUR_TOKEN');

async function loadModerationQueue() {
    try {
        const queue = await api.getModerationQueue();
        
        // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –≤ –≤–∞—à–µ–º UI
        queue.forEach(item => {
            const element = createModerationElement(item);
            document.getElementById('moderation-list').appendChild(element);
        });
        
    } catch (error) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—á–µ—Ä–µ–¥–∏:', error);
    }
}

async function handleApprove(itemId) {
    const success = await api.approveItem(itemId);
    if (success) {
        // –£–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç –∏–∑ UI
        document.getElementById(`item-${itemId}`).remove();
        showNotification('‚úÖ –≠–ª–µ–º–µ–Ω—Ç –æ–¥–æ–±—Ä–µ–Ω!');
    }
}

async function handleReject(itemId) {
    const success = await api.rejectItem(itemId);
    if (success) {
        // –£–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç –∏–∑ UI
        document.getElementById(`item-${itemId}`).remove();
        showNotification('‚ùå –≠–ª–µ–º–µ–Ω—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω!');
    }
}
</pre>
                        </div>

                        <div class="example-section">
                            <h4>üîÑ PHP - –ü—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è</h4>
                            <pre class="code-block">&lt;?php
class BotModerationAPI {
    private $baseUrl;
    private $headers;
    
    public function __construct($baseUrl, $token) {
        $this->baseUrl = rtrim($baseUrl, '/');
        $this->headers = [
            'Authorization: Bearer ' . $token,
            'Content-Type: application/json'
        ];
    }
    
    public function getModerationQueue() {
        $ch = curl_init($this->baseUrl . '/api/moderation');
        curl_setopt($ch, CURLOPT_HTTPHEADER, $this->headers);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
        
        $response = curl_exec($ch);
        curl_close($ch);
        
        $data = json_decode($response, true);
        return $data['data'] ?? [];
    }
    
    public function approveItem($itemId) {
        $ch = curl_init($this->baseUrl . '/api/moderation/' . $itemId . '/approve');
        curl_setopt($ch, CURLOPT_POST, true);
        curl_setopt($ch, CURLOPT_HTTPHEADER, $this->headers);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
        
        $response = curl_exec($ch);
        curl_close($ch);
        
        $data = json_decode($response, true);
        return $data['success'] ?? false;
    }
    
    public function rejectItem($itemId) {
        $ch = curl_init($this->baseUrl . '/api/moderation/' . $itemId . '/reject');
        curl_setopt($ch, CURLOPT_POST, true);
        curl_setopt($ch, CURLOPT_HTTPHEADER, $this->headers);
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
        
        $response = curl_exec($ch);
        curl_close($ch);
        
        $data = json_decode($response, true);
        return $data['success'] ?? false;
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
$api = new BotModerationAPI('http://localhost:8000', 'YOUR_TOKEN');

// –ü–æ–ª—É—á–∞–µ–º –æ—á–µ—Ä–µ–¥—å
$queue = $api->getModerationQueue();
echo "–≠–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏: " . count($queue) . "\n";

// –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º
foreach ($queue as $item) {
    echo "ID: {$item['id']}\n";
    echo "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: @{$item['username']}\n";
    echo "–¢–µ–≥: {$item['tag']} -> {$item['emoji']}\n";
    
    // –í–∞—à–∞ –ª–æ–≥–∏–∫–∞
    $decision = yourModerationLogic($item);
    
    if ($decision === 'approve') {
        if ($api->approveItem($item['id'])) {
            echo "‚úÖ –û–¥–æ–±—Ä–µ–Ω–æ!\n";
        }
    } elseif ($decision === 'reject') {
        if ($api->rejectItem($item['id'])) {
            echo "‚ùå –û—Ç–∫–ª–æ–Ω–µ–Ω–æ!\n";
        }
    }
}
?&gt;
</pre>
                        </div>
                    </div>

                    <!-- –ì–æ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è -->
                    <div class="api-section">
                        <h3>üöÄ –ì–æ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è</h3>
                        
                        <div class="ready-solutions">
                            <div class="solution-card">
                                <div class="solution-header">
                                    <h4>üñ•Ô∏è –ö–æ–Ω—Å–æ–ª—å–Ω–∞—è –∞–¥–º–∏–Ω–∫–∞</h4>
                                    <span class="solution-badge ready">–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é</span>
                                </div>
                                <div class="solution-content">
                                    <p>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–æ–Ω—Å–æ–ª—å–Ω–∞—è –∞–¥–º–∏–Ω–∫–∞ —Å –ø–æ–ª–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º –º–æ–¥–µ—Ä–∞—Ü–∏–∏.</p>
                                    <div class="solution-features">
                                        <span class="feature">üìã –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—á–µ—Ä–µ–¥–∏</span>
                                        <span class="feature">‚úÖ –û–¥–æ–±—Ä–µ–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ</span>
                                        <span class="feature">ü§ñ –ê–≤—Ç–æ–º–æ–¥–µ—Ä–∞—Ü–∏—è</span>
                                        <span class="feature">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
                                    </div>
                                    <div class="solution-code">
                                        <code>python3 external_admin_example.py</code>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="solution-card">
                                <div class="solution-header">
                                    <h4>üìö –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</h4>
                                    <span class="solution-badge docs">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</span>
                                </div>
                                <div class="solution-content">
                                    <p>–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è.</p>
                                    <div class="solution-features">
                                        <span class="feature">üêç Python –ø—Ä–∏–º–µ—Ä—ã</span>
                                        <span class="feature">üåê JavaScript –ø—Ä–∏–º–µ—Ä—ã</span>
                                        <span class="feature">üîß PHP –ø—Ä–∏–º–µ—Ä—ã</span>
                                        <span class="feature">üìñ –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ API</span>
                                    </div>
                                    <div class="solution-code">
                                        <code>API_MODERATION.md</code>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è -->
                    <div class="api-section">
                        <h3>üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</h3>
                        
                        <div class="example-section">
                            <h4>üêç Python</h4>
                            <pre class="code-block">import requests

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞
API_BASE = "http://localhost:8000/api"
TOKEN = "your_admin_token"
headers = {"Authorization": f"Bearer {TOKEN}"}

# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç–µ–≥–∏
response = requests.get(f"{API_BASE}/tags", headers=headers)
tags = response.json()["data"]

# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç–µ–≥ (ID –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
new_tag = {
    "tag": "#python",
    "emoji": "üêç",
    "delay": 0,
    "match_mode": "equals",
    "require_photo": False,
    "reply_ok": "Python –∫–æ–¥ –∑–∞—Å—á–∏—Ç–∞–Ω!",
    "reply_need_photo": "",
    "thread_name": "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ",
    "reply_duplicate": "",
    "moderation_enabled": False,
    "reply_pending": ""
}
response = requests.post(f"{API_BASE}/tags", json=new_tag, headers=headers)
created_tag = response.json()["data"]
tag_id = created_tag["id"]  # –ü–æ–ª—É—á–∞–µ–º ID —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ —Ç–µ–≥–∞
print(f"–°–æ–∑–¥–∞–Ω —Ç–µ–≥ —Å ID: {tag_id}")

# –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ–≥ –ø–æ ID (–±–µ–∑–æ–ø–∞—Å–Ω–æ!)
updated_tag = {
    "tag": "#python_updated",
    "emoji": "üöÄ",
    "delay": 2,
    "match_mode": "prefix",
    "require_photo": True,
    "reply_ok": "–ö–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω!",
    "reply_need_photo": "–î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç",
    "thread_name": "",
    "reply_duplicate": "",
    "moderation_enabled": True,
    "reply_pending": "–ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é"
}
response = requests.put(f"{API_BASE}/tags/{tag_id}", json=updated_tag, headers=headers)

# –£–¥–∞–ª–∏—Ç—å —Ç–µ–≥ –ø–æ ID
response = requests.delete(f"{API_BASE}/tags/{tag_id}", headers=headers)

# –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
stats = requests.get(f"{API_BASE}/stats", headers=headers).json()["data"]
print(f"–í—Å–µ–≥–æ –ª–æ–≥–æ–≤: {stats['total_logs']}")
</pre>
                        </div>

                        <div class="example-section">
                            <h4>üåê JavaScript/Node.js</h4>
                            <pre class="code-block">const API_BASE = "http://localhost:8000/api";
const TOKEN = "your_admin_token";

const headers = {
    "Authorization": `Bearer ${TOKEN}`,
    "Content-Type": "application/json"
};

// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç–µ–≥–∏
const tags = await fetch(`${API_BASE}/tags`, { headers })
    .then(r => r.json());

// –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç–µ–≥
const newTag = {
    tag: "#javascript",
    emoji: "‚ö°",
    delay: 2,
    match_mode: "prefix",
    require_photo: true,
    reply_ok: "JS –∫–æ–¥ –æ—Ç–ª–∏—á–Ω—ã–π!",
    reply_need_photo: "–î–æ–±–∞–≤—å—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –∫–æ–¥–∞",
    thread_name: "",
    reply_duplicate: "–≠—Ç–æ—Ç –∫–æ–¥ —É–∂–µ –±—ã–ª –ø–æ–∫–∞–∑–∞–Ω"
};

await fetch(`${API_BASE}/tags`, {
    method: "POST",
    headers,
    body: JSON.stringify(newTag)
});

// –ü–æ–ª—É—á–∏—Ç—å –ª–æ–≥–∏ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º
const logs = await fetch(`${API_BASE}/logs?tag=#javascript&limit=20`, { headers })
    .then(r => r.json());
</pre>
                        </div>

                        <div class="example-section">
                            <h4>üêö cURL</h4>
                            <pre class="code-block"># –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ç–µ–≥–∏
curl -H "Authorization: Bearer your_token" \
     http://localhost:8000/api/tags

# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç–µ–≥ (ID –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
curl -X POST \
     -H "Authorization: Bearer your_token" \
     -H "Content-Type: application/json" \
     -d '{"tag":"#curl","emoji":"üåÄ","delay":0,"match_mode":"equals","require_photo":false,"reply_ok":"cURL —Ä–∞–±–æ—Ç–∞–µ—Ç!","thread_name":"","reply_duplicate":"","moderation_enabled":false,"reply_pending":""}' \
     http://localhost:8000/api/tags

# –û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç ID —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ —Ç–µ–≥–∞:
# {"success":true,"message":"–¢–µ–≥ —Å–æ–∑–¥–∞–Ω","data":{"id":"abc12345",...}}

# –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ–≥ –ø–æ ID (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ID –∏–∑ –æ—Ç–≤–µ—Ç–∞ –≤—ã—à–µ)
curl -X PUT \
     -H "Authorization: Bearer your_token" \
     -H "Content-Type: application/json" \
     -d '{"tag":"#curl_updated","emoji":"‚ö°","delay":1,"match_mode":"prefix","require_photo":true,"moderation_enabled":false,"reply_pending":""}' \
     http://localhost:8000/api/tags/abc12345

# –£–¥–∞–ª–∏—Ç—å —Ç–µ–≥ –ø–æ ID
curl -X DELETE \
     -H "Authorization: Bearer your_token" \
     http://localhost:8000/api/tags/abc12345

# –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
curl -H "Authorization: Bearer your_token" \
     http://localhost:8000/api/stats

# –£–¥–∞–ª–∏—Ç—å —Ç–µ–≥ (–∏–Ω–¥–µ–∫—Å 2)
curl -X DELETE \
     -H "Authorization: Bearer your_token" \
     http://localhost:8000/api/tags/2
</pre>
                        </div>
                    </div>
                </div>

                <!-- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API -->
                <div id="apiTester" class="api-tester" style="display: none;">
                    <h3>üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API</h3>
                    <div class="test-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label>–ú–µ—Ç–æ–¥:</label>
                                <span id="testMethod" class="method-badge">GET</span>
                            </div>
                            <div class="form-group">
                                <label>URL:</label>
                                <input type="text" id="testUrl" readonly />
                            </div>
                        </div>
                        <div class="form-group" id="testBodyGroup" style="display: none;">
                            <label>–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ (JSON):</label>
                            <textarea id="testBody" rows="10" placeholder="{}"></textarea>
                        </div>
                        <div class="form-actions">
                            <button onclick="executeApiTest()" class="btn btn-primary">‚ñ∂Ô∏è –í—ã–ø–æ–ª–Ω–∏—Ç—å</button>
                            <button onclick="hideTestForm()" class="btn btn-secondary">‚ùå –û—Ç–º–µ–Ω–∞</button>
                        </div>
                        <div id="testResult" class="test-result" style="display: none;">
                            <h4>–†–µ–∑—É–ª—å—Ç–∞—Ç:</h4>
                            <pre id="testResultContent"></pre>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–≥–∞ -->
    <div id="tagModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–≥</h3>
                <span class="close" onclick="closeTagModal()">&times;</span>
            </div>
            <form id="tagForm">
                <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–≥–∞ -->
                <div class="form-section">
                    <h4>üè∑Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–≥–∞</h4>
                    <div class="form-group">
                        <label for="modalTag">–¢–µ–≥:</label>
                        <input type="text" id="modalTag" name="tag" placeholder="#—Ç–µ–≥" required />
                        <small>–•–µ—à—Ç–µ–≥, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å—Å—è –±–æ—Ç–æ–º</small>
                    </div>
                    <div class="form-group">
                        <label for="modalEmoji">–†–µ–∞–∫—Ü–∏—è:</label>
                        <input type="text" id="modalEmoji" name="emoji" placeholder="üçì" required />
                        <small>–≠–º–æ–¥–∑–∏-—Ä–µ–∞–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∫ —Å–æ–æ–±—â–µ–Ω–∏—é</small>
                    </div>
                    <div class="form-group">
                        <label for="modalDelay">–ó–∞–¥–µ—Ä–∂–∫–∞ —Ä–µ–∞–∫—Ü–∏–∏ (—Å–µ–∫):</label>
                        <input type="number" id="modalDelay" name="delay" min="0" max="60" value="0" />
                        <small>–ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º —Ä–µ–∞–∫—Ü–∏–∏ (0-60 —Å–µ–∫—É–Ω–¥)</small>
                    </div>
                </div>

                <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è -->
                <div class="form-section">
                    <h4>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="modalMatchMode">–†–µ–∂–∏–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è:</label>
                            <select id="modalMatchMode" name="match_mode">
                                <option value="equals">equals (—Å—Ç—Ä–æ–≥–∏–π)</option>
                                <option value="prefix">prefix (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å)</option>
                            </select>
                            <small>–ö–∞–∫ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —Ç–µ–≥–∏ –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö</small>
                        </div>
                        
                        <div class="form-group">
                            <label for="modalRequirePhoto">–¢—Ä–µ–±–æ–≤–∞—Ç—å –º–µ–¥–∏–∞—Ñ–∞–π–ª:</label>
                            <select id="modalRequirePhoto" name="require_photo">
                                <option value="true">‚úÖ –î–∞, —Ç—Ä–µ–±–æ–≤–∞—Ç—å</option>
                                <option value="false">‚ùå –ù–µ—Ç, –Ω–µ —Ç—Ä–µ–±–æ–≤–∞—Ç—å</option>
                            </select>
                            <small>–†–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —Å —Ñ–æ—Ç–æ –∏–ª–∏ –≤–∏–¥–µ–æ</small>
                        </div>
                    </div>
                </div>

                <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π -->
                <div class="form-section">
                    <h4>üí¨ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π</h4>
                    <div class="form-group">
                        <label for="modalReplyOk">–°–æ–æ–±—â–µ–Ω–∏–µ ‚Äî –∑–∞—Å—á–∏—Ç–∞–Ω–æ:</label>
                        <input type="text" id="modalReplyOk" name="reply_ok" placeholder="–ó–∞—Ä–∞—Ö–æ–≤–∞–Ω–æ! ü¶ã" />
                        <small>–°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –∑–∞—Å—á–∏—Ç—ã–≤–∞–Ω–∏–∏ (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è)</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="modalReplyNeedPhoto">–°–æ–æ–±—â–µ–Ω–∏–µ ‚Äî –¥–æ–±–∞–≤—å —Ñ–æ—Ç–æ:</label>
                        <input type="text" id="modalReplyNeedPhoto" name="reply_need_photo" placeholder="–©–æ–± –∑–∞—Ä–∞—Ö—É–≤–∞—Ç–∏ ‚Äî –¥–æ–¥–∞–π —Ñ–æ—Ç–æ —ñ –ø–æ–≤—Ç–æ—Ä–∏ –∑ —Ö–µ—à—Ç–µ–≥–æ–º." />
                        <small>–°–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Ñ–æ—Ç–æ (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è)</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="modalReplyDuplicate">–°–æ–æ–±—â–µ–Ω–∏–µ ‚Äî –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ç–æ:</label>
                        <input type="text" id="modalReplyDuplicate" name="reply_duplicate" placeholder="–¶–µ —Ñ–æ—Ç–æ –≤–∂–µ –±—É–ª–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ —Ä–∞–Ω—ñ—à–µ." />
                        <small>–°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ñ–æ—Ç–æ (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è)</small>
                    </div>
                </div>

                <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç—Ä–µ–¥–∞ -->
                <div class="form-section">
                    <h4>üßµ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç—Ä–µ–¥–∞</h4>
                    <div class="form-group">
                        <label for="modalThreadName">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–¥–∞:</label>
                        <input type="text" id="modalThreadName" name="thread_name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –†–µ—Ü–µ–ø—Ç—ã" />
                        <small>–†–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º —Ç—Ä–µ–¥–µ (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –ª—é–±–æ–≥–æ —Ç—Ä–µ–¥–∞)</small>
                    </div>
                </div>

                <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ -->
                <div class="form-section">
                    <h4>üîç –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="modalModerationEnabled">–†–µ–∂–∏–º –º–æ–¥–µ—Ä–∞—Ü–∏–∏:</label>
                            <select id="modalModerationEnabled" name="moderation_enabled">
                                <option value="false">‚ùå –û—Ç–∫–ª—é—á–µ–Ω–∞</option>
                                <option value="true">‚úÖ –í–∫–ª—é—á–µ–Ω–∞</option>
                            </select>
                            <small>–¢—Ä–µ–±–æ–≤–∞—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞ –ø–µ—Ä–µ–¥ —Ä–µ–∞–∫—Ü–∏–µ–π</small>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="modalReplyPending">–°–æ–æ–±—â–µ–Ω–∏–µ ‚Äî –æ–∂–∏–¥–∞–Ω–∏–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏:</label>
                        <input type="text" id="modalReplyPending" name="reply_pending" placeholder="–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é..." />
                        <small>–°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–µ –≤ –æ—á–µ—Ä–µ–¥—å –º–æ–¥–µ—Ä–∞—Ü–∏–∏ (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è)</small>
                    </div>
                    
                    <div class="form-group">
                        <label for="modalCounterName">üìä –ù–∞–∑–≤–∞–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–∞:</label>
                        <input type="text" id="modalCounterName" name="counter_name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –†–µ—Ü–µ–ø—Ç—ã, –§–æ—Ç–æ –¥–Ω—è..." />
                        <small>–ù–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö –º–æ–¥–µ—Ä–∞—Ü–∏–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</small>
                    </div>
                </div>

                <div class="modal-actions">
                    <button type="button" onclick="closeTagModal()" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn btn-primary">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–≥</button>
                </div>
            </form>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="notifications" class="notifications"></div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è -->
    <div id="testMessageModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üì® –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</h3>
                <span class="close" onclick="closeTestMessageModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="testTgUserId">Telegram User ID:</label>
                    <input type="number" id="testTgUserId" placeholder="–í–≤–µ–¥–∏—Ç–µ Telegram User ID" class="form-control" />
                    <small>ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ —Å–ø–∏—Å–∫–µ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π –≤—ã—à–µ</small>
                </div>
                <div class="form-group">
                    <label for="testMessage">–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:</label>
                    <textarea id="testMessage" rows="4" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è..." class="form-control"></textarea>
                    <small>–ë—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ—Ä–º—ã</small>
                </div>
            </div>
            <div class="modal-actions">
                <button type="button" onclick="closeTestMessageModal()" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</button>
                <button type="button" onclick="sendTestMessage()" class="btn btn-primary">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script src="/static/admin.js"></script>
</body>
</html>
