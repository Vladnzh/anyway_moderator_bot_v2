# üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –±–æ—Ç–∞

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä-–±–æ—Ç–∞.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞
```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–Ω–æ)
git clone <repo-url>
cd anyway-moderator-bot-v2

# –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏
chmod +x start-dev.sh stop-dev.sh test-dev.sh
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ @BotFather –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot`
3. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —Å –∏–º–µ–Ω–µ–º —Ç–∏–ø–∞ `YourName Dev Bot`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω (–ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ)

### 3. –ó–∞–ø—É—Å–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–µ—Å–∫–æ–π —Å—Ä–µ–¥—ã
```bash
./start-dev.sh
```

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ:
- –í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞
- –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞—Å—Ç `.env.dev` —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- –ó–∞–ø—É—Å—Ç–∏—Ç –∞–¥–º–∏–Ω–∫—É –∏ –±–æ—Ç–∞

### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
./test-dev.sh
```

### 5. –û—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
./stop-dev.sh
# –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ Ctrl+C –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å start-dev.sh
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```
anyway-moderator-bot-v2/
‚îú‚îÄ‚îÄ start-dev.sh          # –ó–∞–ø—É—Å–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–µ—Å–∫–æ–π —Å—Ä–µ–¥—ã
‚îú‚îÄ‚îÄ stop-dev.sh           # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îú‚îÄ‚îÄ test-dev.sh           # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ dev —Ä–µ–∂–∏–º–µ
‚îú‚îÄ‚îÄ .env.dev              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îú‚îÄ‚îÄ dev_bot_data.db       # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îú‚îÄ‚îÄ venv/                 # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Python
‚îî‚îÄ‚îÄ DEV_README.md         # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –°–æ–∑–¥–∞–Ω–∏–µ `.env.dev`

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:** –°–∫—Ä–∏–ø—Ç `start-dev.sh` —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª —Å –±–∞–∑–æ–≤—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏.

**–í—Ä—É—á–Ω—É—é:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞:
```bash
cp env.dev.example .env.dev
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env.dev –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã
```

### `.env.dev` (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```bash
# –¢–æ–∫–µ–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç—á–µ—Å–∫–æ–≥–æ –±–æ—Ç–∞
BOT_TOKEN=1234567890:your-dev-bot-token

# –¢–æ–∫–µ–Ω –∞–¥–º–∏–Ω–∫–∏ (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
ADMIN_TOKEN=generated-admin-token

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
DATABASE_PATH=dev_bot_data.db

# –õ–æ–∫–∞–ª—å–Ω—ã–µ URL
ADMIN_URL=http://localhost:8000
FRONTEND_URL=http://localhost:3000

# –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
DEV_MODE=true
```

### –û—Ç–ª–∏—á–∏—è –æ—Ç –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
- ‚úÖ **–û—Ç–¥–µ–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** (`dev_bot_data.db`)
- ‚úÖ **–¢–µ—Å—Ç–æ–≤—ã–π –±–æ—Ç** (–Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ)
- ‚úÖ **–õ–æ–∫–∞–ª—å–Ω—ã–µ URL** (localhost)
- ‚úÖ **–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** (–±–µ–∑ Docker)
- ‚úÖ **–ë—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫** (–±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–æ–≤)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–µ—Å—Ç—ã:
```bash
./test-dev.sh
```

**–í–∞—Ä–∏–∞–Ω—Ç—ã:**
1. **–ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç** - –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
2. **–ü–æ–ª–Ω—ã–π workflow** - –µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è async
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π** - WAL mode, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
4. **–û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö** - —É–¥–∞–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
5. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ë–î** - –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–∞–∑—ã

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
# –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate

# –ó–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
python3 test_simple.py

# –ü—Ä–æ–≤–µ—Ä—è–µ–º API
curl -H "Authorization: Bearer $ADMIN_TOKEN" http://localhost:8000/api/tags
```

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:
```
start-dev.sh
‚îú‚îÄ‚îÄ python3 admin.py    # –ê–¥–º–∏–Ω–∫–∞ –Ω–∞ :8000
‚îî‚îÄ‚îÄ python3 bot.py      # –ë–æ—Ç (polling)
```

### –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞:
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª)
tail -f bot.log
tail -f admin.log

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
ps aux | grep python

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
lsof -i :8000
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–¥–∞:
1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ: `./stop-dev.sh`
2. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `./start-dev.sh`

### –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö:
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ë–î
sqlite3 dev_bot_data.db ".tables"
sqlite3 dev_bot_data.db "SELECT * FROM tags;"

# –û—á–∏—Å—Ç–∫–∞ –ë–î
rm dev_bot_data.db
# –∏–ª–∏ —á–µ—Ä–µ–∑ —Ç–µ—Å—Ç
./test-dev.sh # –≤—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç 4
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

#### –ê–¥–º–∏–Ω–∫–∞ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç
lsof -i :8000

# –£–±–µ–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
pkill -f "python.*admin.py"
```

#### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ .env.dev
grep BOT_TOKEN .env.dev

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å
ps aux | grep "python.*bot.py"
```

#### –û—à–∏–±–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
rm -rf venv
./start-dev.sh
```

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
./stop-dev.sh

# –£–¥–∞–ª–∏—Ç–µ –±–∞–∑—É
rm dev_bot_data.db

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
./start-dev.sh
```

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
```bash
# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö Python –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
pkill -f python

# –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ –ø–æ—Ä—Ç–∞ 8000
lsof -ti:8000 | xargs kill

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
source venv/bin/activate && pip list

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt --upgrade
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:
```bash
# API –∞–¥–º–∏–Ω–∫–∏
curl http://localhost:8000/api/stats

# –°—Ç–∞—Ç—É—Å –±–æ—Ç–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å health endpoint)
curl http://localhost:8000/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
sqlite3 dev_bot_data.db "SELECT COUNT(*) FROM tags;"
```

### –ú–µ—Ç—Ä–∏–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- **–í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞**: ~10-15 —Å–µ–∫—É–Ω–¥
- **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏**: ~50-100MB
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API**: <0.5 —Å–µ–∫—É–Ω–¥
- **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫**: ~5 —Å–µ–∫—É–Ω–¥

## üîÑ Workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –¢–∏–ø–∏—á–Ω—ã–π —Ü–∏–∫–ª:
1. `./start-dev.sh` - –∑–∞–ø—É—Å–∫ —Å—Ä–µ–¥—ã
2. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞
3. `./test-dev.sh` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
4. `./stop-dev.sh` - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
5. –ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Å –ø.1

### –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º:
```bash
# –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
./test-dev.sh

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π
./test-dev.sh # –ø—É–Ω–∫—Ç 3

# –û—á–∏—Å—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
./test-dev.sh # –ø—É–Ω–∫—Ç 4
```

## üöÄ –ü–µ—Ä–µ—Ö–æ–¥ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω

–ü–æ—Å–ª–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–¥–∞–∫—à–µ–Ω —Å–∫—Ä–∏–ø—Ç—ã:
```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω —Ç–æ–∫–µ–Ω–æ–≤
./setup-bot-token.sh
./setup-admin-token.sh

# –ó–∞–ø—É—Å–∫ –≤ Docker
./start.sh
```

---

**–£–¥–∞—á–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!** üõ†Ô∏è‚ú®
